expression
  : EXP options expstmts
  
options
  :
  | dassoc options
  | action options
  | nonterm options 
 
action
  : ACTION "=" action_names

action_names
  : TREE

dassoc
  : ASSOC "=" assoc

nonterm
  : NONTERM "=" nonterms

nonterms
  : S_LITERAL
  | S_LITERAL "," nonterms

assoc
  : NONASSOC
  | LEFT
  | RIGHT

expstmts
  : expstmt expstmts
  | expstmt

expstmt
  : IDENTIFIER '.' IDENTIFIER ':' expfig ';'
  | IDENTIFIER '.' IDENTIFIER '(' assoc ')' ':' expfig ';'
  | IDENTIFIER ':' expfig ';'
  | IDENTIFIER '(' assoc ')' ':' expfig ';'

op_list
  : op_list
  | op_list '|' operators

operators
  : operator
  | operator IDENTIFIER
  | IDENTIFIER operator
  | IDENTIFIER operator IDENTIFIER
  | IDENTIFIER operator IDENTIFIER operator IDENTIFIER

operator
  : S_LITERAL
  | S_LITERAL operator

operands
  :
  | IDENTIFIER operators